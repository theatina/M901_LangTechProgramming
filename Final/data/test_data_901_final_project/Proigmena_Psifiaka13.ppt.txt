ΜΙΚΡΟΕΛΕΓΚΤΕΣ
ΕΝΟΤΗΤΑ 13Η
ΜΙΚΡΟΕΛΕΓΚΤΕΣ Α΄
Βασική δομή
Αρχιτεκτονική Harvard
Aρχιτεκτονική του 16F877.
Χάρτης μνήμης –σύνολο εντολών
Εργαλεία προγραμματισμού.
Φωτογραφία ενσωματωμένου μικροελεγκτή, με τους ακροδέκτες και το κεραμικό περίβλημα.
Βασική δομή μικροελεγκτή
Οι μικροελεγκτές είναι υπολογιστικά κυκλώματα ειδικού σκοπού, που έχουν CPU, μνήμη RAM, μνήμη προγράμματος (EEPROM) και κυκλώματα εισόδου/εξόδου. Μπορούν να ελέγξουν πλήρως μια συσκευή στην οποία είναι αφιερωμένα.
Η οικογένεια τον μικροελεγκτών PIC16FXXX
Οικογένεια μικροελεγκτών της εταιρίας Microchip, με flash-EEPROM μνήμη προγράμματος.
Παλαιότεροι EPROM μικροελεγκτές
Στη σειρά 16C η μνήμη προγράμματος είναι διαγραφόμενη με υπεριώδη ακτινοβολία (UV erasable).
ΕΦΑΡΜΟΓΕΣ ΜΙΚΡΟΕΛΕΓΚΤΩΝ
Ο PIC16F84
Ο PIC16F84 είναι ένας μεσαίος μικροελεγκτής χαμηλού κόστους, με επεξεργαστή τύπου RISK 8-bits. Διαθέτει στον χρήστη έναν χώρο 58 ελεύθερων καταχωρητών ως RAM και 13 ακροδέκτες Ι/Ο. Χρονίζεται με κρύσταλλο στα 4 MHz.
Ο μικροελεγκτής PIC16F877 και οι ακροδέκτες του
O PIC16F877 ανήκει στα ανώτερα μέλη της οικογένειας 16Fxxx.
Έχει επεξεργαστή RISC 8-bits, και σημαντικό αριθμό περιφε-ρειακών κυκλωμάτων για επικοινωνία και έλεγχο συσκευών.
Αρχιτεκτονική von-Neumann και αρχιτεκτονική Harvard
Βασική δομή του PIC16F877
Βασική δομή επεξεργαστή και μονάδες περιφερειακών συσκευών
Βασική αρχιτεκτονική του μικροελεγκτή PIC16F877
ΤΥΠΙΚΟΣ ΧΑΡΤΗΣ ΤΗΣ ΜΝΗΜΗΣ (16F877)
KAΤΑΧΩΡΗΤΕΣ ΕΙΔΙΚΟΥ ΣΚΟΠΟΥ ΚΑΙ ΓΕΝΙΚΟΙ ΚΑΤΑΧΩΡΗΤΕΣ (SRAM)
Προσέξτε τις τέσσερις σελίδες μνήμης Bank0-Bank3. H κάθε μια περιέχει έναν αριθμό ειδικών καταχωρητών, καθώς και καταχωρητές γενικού σκοπού.
ΣΥΝΟΛΟ ΕΝΤΟΛΩΝ ΜΙΚΡΟΕΛΕΓΚΤΩΝ PIC
Σύνολο εντολών (συνέχεια)
ΠΑΡΑΔΕΙΓΜΑΤΑ ΠΡΟΓΡΑΜ-ΜΑΤΙΣΜΟΥ
ΒΑΣΙΚΕΣ ΕΝΤΟΛΕΣ ΑΝΤΙΓΡΑΦΗΣ ΚΑΙ ΜΕΤΑΦΟΡΑΣ ΔΕΔΟΜΕΝΩΝ ΤΟΥ ΜΙΚΡΟΕΛΕΓΚΤΗ PIC16F877
αντιγράφει το περιεχόμενο του καταχωρητή εργασίας W στον καταχωρητή Reg.
αντιγράφει το περιεχόμενο του καταχωρητή Reg στον καταχωρητή εργασίας W.
μεταφέρει την ποσότητα k στον καταχωρητή εργασίας W, με τη διαφορά, ότι εδώ το k είναι ο συγκεκριμένος αριθμός και δεν αντιπροσωπεύει μία θέση μνήμης, όπως προηγουμένως ο Reg.
Με βάση τα παραπάνω, η εντολή
μεταφέρει τον δεκαεξαδικό αριθμό 0C στον καταχωρητή εργασίας W, ενώ η εντολή
θα μεταφέρει στον W όχι το περιεχόμενο της διεύθυνσης Reg, αλλά την ίδια τη διεύθυνση Reg.
Αν, λοιπόν, φανταστούμε ότι ορίσαμε στη διεύθυνση hex0F τον καταχωρητή START (START equ 0F), τότε η εντολή
έχει σαν αποτέλεσμα να μεταφερθεί στον καταχωρητή εργασίας W o αριθμός 0F, ενώ η εντολή
αντιγράφει στον W το περιεχόμενο της διεύθυνσης 0F.
ΑΝΑΠΤΥΞΙΑΚΑ ΚΥΚΛΩΜΑΤΑ ΜΙΚΡΟΕΛΕΓΚΤΩΝ
Το αναπτυξιακό κύκλωμα στηρίζεται σε έναν ή περισσότερους μικροελεγκτές, που συνδέονται με έναν αριθμό περιφερειακών κυκλωμάτων, όπως διακόπτες και leds.
Διαθέτει επίσης είσοδο προγραμματισμού.
ΛΟΓΙΣΜΙΚΟ ΓΙΑ ΜΙΚΡΟΕΛΕΓΚΤΕΣ
Editor για ανάπτυξη κώδικα Assembly.
Simulator για εξομοίωση του κώδικα και παρατήρηση των αλλαγών στους καταχωρητές και στη μνήμη.
Assembler για αποσφαλμάτωση και μετάφραση του κώδικα (μετατροπή του σε κώδικα μηχανής).
Ένα ολοκληρωμένο περιβάλλον ανάπτυξης διαθέτει ενοποιημένα τα παραπάνω εργαλεία.
Λογισμικό για μικροελεγκτές: MPLAB IDE
ΠΡΟΓΡΑΜΜΑΤΙΣΤΕΣ
Ο Προγραμματιστής συνδέεται με τον υπολογιστή μέσω σειρι-ακής διασύνδεσης.
Έχει ειδική βάση ZIF για τον μικροελεγκτή.
Εγκαθιστά το πρόγραμμα της εφαρμογής στην μνήμη προγράμματος του μικροελεγκτή.
Στην εικόνα φαίνεται ο προγραμματιστής PICSTART Plus της εταιρίας Microchip, που προγραμματίζει όλους τους μικροελεγκτές PIC.
ΑΛΛΟΙ ΜΙΚΡΟΕΛΕΓΚΤΕΣ: BASIC STAMP
Ο Basic Stamp είναι ένας εκπαιδευτικός μικροελεγκτής που στηρίζεται σε έναν πυρήνα PIC και σε ενσωματωμένο διερμηνευτή (interpreter)της γλώσσας PBasic.
O κώδικας της PBasic εγκαθίσταται σε εξωτερική μνήμη EPROM με τη μορφή κωδικών Tokens.
ΣΥΣΤΗΜΑ ΣΥΛΛΟΓΗΣ ΔΕΔΟΜΕΝΩΝ ΜΕ ΜΙΚΡΟΕΛΕΓΚΤΗ
Το σύστημα της εφαρμογής συλλέγει δεδομένα μέσω αισθητήρων που συνδέονται στα κανάλια του A/D μετατροπέα του μικροελεγκτή.
Τα δεδομένα μεταδίδονται προς υπολογιστή με τη βοήθεια ενσωματωμένης UART.
