ΕΝΟΤΗΤΑ 8η Μετατροπείς Αναλογικού Σήματος σε Ψηφιακό (ADC)
ΕΝΟΤΗΤΑ 9η
Βασικές τεχνικές
εισόδου/εξόδου δεδομένων
Σειριακή και παράλληλη επικοινωνία
Σύγχρονη και ασύγχρονη σειριακή επικοινωνία
RS-232, UART, Μετατροπείς στάθμης
Λογικός χάρτης της Παράλληλης θύρας
Παράλληλη επικοινωνία
Ο πιο άμεσος τρόπος για τη μετάδοση δεδομένων είναι η παράλληλη επικοινωνία.
Στην παράλληλη επικοινωνία όλα τα bits μιας λέξης δεδομένων μεταδίδονται ταυτόχρονα προς τον αποδέκτη.
Το υπολογιστικό σύστημα φορτώνει το προς μετάδοση δεδομένο σε έναν καταχωρητή, που ενέχει θέση μνήμης με συγκεκριμένη διεύθυνση στον χάρτη της μνήμης του συστήματος.
Τα κυκλώματα εξόδου μεταβιβάζουν το περιεχόμενο του καταχωρητή μέσω ενός καλωδίου πολλαπλών συρμάτων στο κύκλωμα λήψης.
Παράλληλη μεταφορά οκτώ bits
Πρωτόκολλα παράλληλης επικοινωνίας
Τα πιο γνωστά πρωτόκολλα παράλληλης επικοινωνίας είναι το πρωτόκολλο CENTRONICS, για την τυπική παράλληλη θύρα ενός υπολογιστή PC και το πρωτόκολλο IEEE 488 ή GPIB, το οποίο χρησιμοποιείται σε πολλά επιστημονικά όργανα για τη δημιουργία αυτοματοποιημένων συστημάτων μετρήσεων.
Σειριακή Επικοινωνία
Ένας εναλλακτικός και πολύ διαδεδομένος τρόπος μετάδοσης της πληροφορίας, ειδικά σε σημαντικές αποστάσεις, είναι η σειριακή επικοινωνία.
Με τον τρόπο αυτό τα bits της πληροφορίας μεταδίδονται ένα κάθε φορά, στη σειρά, μέσα από έναν αγωγό μεταφοράς των δεδομένων.
Στην απλούστερη περίπτωση τέτοιας επικοινωνίας χρειαζόμαστε τρεις συνολικά αγωγούς, έναν για την αποστολή δεδομένων, έναν για τη λήψη και έναν που θα βρίσκεται στο δυναμικό αναφοράς των μεταδιδόμενων σημάτων.
Σειριακή μετάδοση πληροφορίας από τον υπολογιστή
προς εξωτερική συσκευή
Χαρακτηριστικά σειριακής επικοινωνίας
Τα κυριότερο πλεονέκτημα της σειριακής επικοινωνίας είναι ο μικρότερος αριθμός καλωδίων διασύνδεσης που απαιτείται, σε σχέση με την παράλληλη επικοινωνία.
Αυτό κάνει την εγκατάσταση φθηνότερη όταν οι αποστάσεις είναι μεγάλες.
Επιπλέον, τα πρωτόκολλα επικοινωνίας που χρησιμοποιούνται στη σειριακή επικοινωνία επιτρέπουν μεγάλες στάθμες σημάτων σε σχέση με τα πρωτόκολλα της παράλληλης επικοινωνίας, οπότε οι απώλειες του σήματος δημιουργούν μικρότερο πρόβλημα και η μετάδοση σε μεγάλη απόσταση είναι εφικτή.
Θύρες Η/Υ για Παράλληλη και Σειριακή Επικοινωνία
Σύνδεσμοι για παράλληλη και σειριακή επικοινωνία στο πίσω μέρος τυπικού desktop υπολογιστή
Ασύγχρονη Σειριακή Επικοινωνία
Μορφή σήματος στην ασύγχρονη σειριακή μετάδοση χαρακτήρα: Start bit, bits χαρακτήρα, parity bit, Stop bits
Χαρακτηριστικά της ασύγχρονης σειριακής επικοινωνίας
Το πρώτο bit κάθε πλαισίου είναι το λεγόμενο start bit, το οποίο αντιστοιχεί σε λογικό μηδέν.
Ακολουθεί η σειρά των ψηφίων του χαρακτήρα που αποστέλλεται.
Για παράδειγμα, εάν αποστέλλεται το κεφαλαίο γράμμα Α, τότε η ακολουθία των ψηφίων θα είναι 01001011.
Μετά από τα bits του χαρακτήρα ακολουθεί ένα bit άρτιας ή περιττής ισοτιμίας (parity), το οποίο ενεργοποιεί μία διαδικασία ελέγχου σφαλμάτων, για να ανιχνεύσει τυχόν λάθη που συνέβησαν κατά τη μετάδοση.
Το πλαίσιο κλείνει με ένα ή δύο stop bits, που υποδηλώνουν το τέλος του χαρακτήρα και την κατάσταση αναμονής για τον επόμενο.
Η λογική κατάσταση των ψηφίων λήξης (stop bits) είναι το λογικό ένα.
Παράμετροι της σειριακής επικοινωνίας
Baud rate: είναι η ταχύτητα της σειριακής επικοινωνίας, που όπως και οι επόμενες παράμετροι, παίρνει τιμές που ορίζονται στο τεχνικό εγχειρίδιο του σειριακού οργάνου (π.χ. πολυμέτρου).
Data bits: είναι o αριθμός των bits σε κώδικα ASCII, με τον οποίο κωδικοποιείται ο κάθε χαρακτήρας του μηνύματος, που αποστέλλεται μέσω της σειριακής επικοινωνίας.
Parity: ορίζουμε, εάν επιθυμούμε, έλεγχο ισοτιμίας, καθώς και το είδος της ισοτιμίας για τον κώδικα που αποστέλλεται για κάθε χαρακτήρα.
Stop bits: είναι o αριθμός των bits τερματισμού του μηνύματος της σειριακής επικοινωνίας, για κάθε χαρακτήρα που μεταφέρεται.
Προδιαγραφές πρωτοκόλλου RS-232
Το λογικό 0, που λέγεται και SPACE, βρίσκεται μεταξύ +3 και +25 V (στην πράξη λαμβάνονται και εκπέμπονται από +5 έως +15 V).
To λογικό 1, που λέγεται και MARK, βρίσκεται μεταξύ 3 και 25V (πρακτικά από 5 έως 15V).
Η περιοχή από 3V έως +3V δεν αντιπροσωπεύει καθορισμένη λογική στάθμη.
Κανένας από τους ακροδέκτες της σειριακής θύρας δεν μπορεί να δεχτεί δυναμικό μεγαλύτερο από 25V σε σχέση με τη γη.
Το μέγιστο ρεύμα δεν μπορεί να ξεπερνά τα 500mA.
Τύποι σειριακών συσκευών και διασυνδέσεις τους
Τυπικές διασυνδέσεις DTE/DCE και DCE/DCE
Ακροδέκτες της σειριακής θύρας
Μετατροπή σειριακών συνδέσμων 9 και 25 ακροδεκτών
Απλές συνδέσεις σειριακών συσκευών
Σειριακά πολύμετρα
Το κύκλωμα UART
Οι ακροδέκτες 1 έως 8 συνδέονται στον δίαυλο του υπολογιστή, ενώ οι ακροδέκτες RD και TD (11 και 12 αντίστοιχα) οδηγούν τις γραμμές εκπομπής και λήψης σειριακών δεδομένων.
Οι ακροδέκτες DSR, CTS, DTR και RTS (37, 36, 33 και 32, αντίστοιχα) οδηγούν τους ακροδέκτες ελέγχου της σειριακής θύρας.
Λειτουργία της UART
Κάθε κύκλωμα UART περιέχει ένα κύκλωμα χρονισμού, που ονομάζεται γεννήτρια ρυθμού (baud rate generator). Για τη λειτουργία του κυκλώματος χρονισμού απαιτείται ένας εξωτερικός κρύσταλλος, ο οποίος συνδέεται με μερικά επιπλέον εξαρτήματα στους ακροδέκτες XIN-XOUT. H συχνότητα του κρυστάλλου είναι συνήθως 1.8432 MHz και η ταλάντωσή του μετατρέπεται εσωτερικά σε ρυθμό εκπομπής και λήψης (baud rate), με τη βοήθεια ενός προγραμματιζόμενου διαιρέτη συχνότητας.
Η πρώτη διαίρεση γίνεται με τον αριθμό 16, με αποτέλεσμα ο ανώτερος ρυθμός λειτουργίας να είναι 115.2 kbps.
Ο τρόπος λειτουργίας του κυκλώματος UART προγραμματίζεται με τη βοήθεια ορισμένων καταχωρητών, τους οποίους ο υπολογιστής βλέπει σαν θέσεις μνήμης.
Με τη βοήθεια των καταχωρητών αυτών μπορεί ο χρήστης να έχει πλήρη έλεγχο της διαδικασίας εισόδου/εξόδου μέσω της σειριακής θύρας.
Mετατροπείς στάθμης: MAX232
Για να διασυνδέσουμε κάποια εφαρμογή με τη σειριακή θύρα, θα πρέπει να παρεμβάλουμε κυκλώ-ματα που θα μετατρέπουν τις στάθμες του πρωτοκόλλου RS-232 στις απλές στάθμες TTL.
Σύγχρονη σειριακή μετάδοση
Σύγχρονη Σειριακή Μετάδοση δεδομένων
Στη σύγχρονη σειριακή μετάδοση έχουμε καλύτερη εκμετάλλευση του εύρους του καναλιού επικοινωνίας, αφού τα δεδομένα ομαδοποιούνται σε μεγάλα πακέτα δεδομένων, χωρίς start και stop bits στην αρχή και στο τέλος κάθε χαρακτήρα.
Με τον τρόπο αυτό αυξάνει σημαντικά ο ρυθμός μετάδοσης και γίνεται αποδοτικότερη η χρήση των κυκλωμάτων μετάδοσης.
Η σύγχρονη σειριακή μετάδοση ενδείκνυται κυρίως για την επικοινωνία ανάμεσα σε υπολογιστές, που διακινούν μεγάλους όγκους δεδομένων.
Ο δίαυλος I2C
Ο δίαυλος I2C στηρίζεται στην αρχιτεκτονική δύο συρμάτων, με τη βοήθεια των οποίων διάφορα ολοκληρωμένα κυκλώματα ανταλλάσσουν σειριακά δεδομένα και σήματα συγχρονισμού.
Ταυτόχρονα, το πρότυπο αυτό δημιουργεί ένα πρωτόκολλο επικοινωνίας, για την αποφυγή συγκρούσεων κατά την ανταλλαγή δεδομένων.
Τα δύο σύρματα στα οποία στηρίζεται η αρχιτεκτονική του διαύλου I2C ονομάζονται Serial Data (SDA) ή γραμμή δεδομένων και Serial Clock (SCL) ή γραμμή χρονισμού.
Οι δύο αυτές γραμμές μεταφέρουν πληροφορίες ανάμεσα στις συσκευές που ενώνονται με τον δίαυλο.
Κάθε συσκευή αναγνωρίζεται από μία μοναδική διεύθυνση και μπορεί να λειτουργήσει ως πομπός ή ως δέκτης δεδομένων.
Σύνδεση συσκευών με τον δίαυλο Ι2C
Οι ακροδέκτες της παράλληλης θύρας
Οι καταχωρητές της παράλληλης θύρας
Ο Πίνακας της προηγούμενης διαφάνειας παρουσιάζει τους 25 ακροδέκτες της παράλληλης θύρας και τις ονομασίες τους.
Όπως φαίνεται, οι ακροδέκτες αυτοί χωρίζονται σε τρεις ομάδες, διότι αντιστοιχούν σε τρεις καταχωρητές, οι οποίοι με τη σειρά τους αντιστοιχούν σε διαφορετικές διευθύνσεις μνήμης.
Οι καταχωρητές αυτοί είναι ο Καταχωρητής Δεδομένων (Data Register), ο Καταχωρητής Κατάστασης (Status Register) και ο Καταχωρητής Ελέγχου (Control Register). Μέσω των διευθύνσεων μνήμης των παραπάνω καταχωρητών έχουμε πρόσβαση στους ακροδέκτες, για είσοδο ή για έξοδο.
Ο λογικός χάρτης της παράλληλης θύρας
