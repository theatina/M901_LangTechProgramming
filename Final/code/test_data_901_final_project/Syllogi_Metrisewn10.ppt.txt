ΕΝΟΤΗΤΑ 10η Τεχνικές Ι/Ο: Η θύρα USB
ΕΝΟΤΗΤΑ 10η
Τεχνικές Ι/Ο:
Η θύρα USB
Χαρακτηριστικά της θύρας USB
Τοπολογία διαύλου USB
Κλάσεις συσκευών USB, Endpoints, pipes
Tύποι μετάδοσης USB
Απλή εφαρμογή χειριστηρίου (HID)
Ταχύτητες μετάδοσης USB
USB 1.1 απλή ταχύτητα: 1.5 Mbps
USB 1.1 και 2.0 πλήρης ταχύτητα
USB 2.0 υψηλή ταχύτητα (high speed):
Άλλα χαρακτηριστικά της διασύνδεσης USB
Μεγάλος αριθμός περιφερειακών συσκευών
Αυτόματη αναγνώριση κάθε περιφερειακού
Διαχείριση ενέργειας
Κλάσεις συσκευών USB
Οι προδιαγραφές τα θύρας USB χωρίζουν τις διάφορες συσκευές σε κλάσεις, ανάλογα με τις λειτουργίες και τις απαιτήσεις.
Μια κατηγορία συσκευών αποτελεί συγκεκριμένη “κλάση”, όταν οι συσκευές αυτές μοιράζονται κοινές απαιτήσεις εισόδου/εξόδου. Με τις τρέχουσες προδιαγραφές διακρίνουμε συνολικά ένδεκα κλάσεις συσκευών: συνήθης συσκευή, συσκευή ήχου, συσκευή επικοινωνιών, διανομέας (Hub), χειριστήριο (HID-Human Interface Device), συσκευή εικόνας, μόνιτορ, συσκευή φυσικής διασύνδεσης (PID), συσκευή ισχύος, εκτυπωτής και μονάδα αποθήκευσης.
Μετάδοση δεδομένων μέσω του διαύλου USB
Ορισμοί
Τελικά σημεία Συσκευής (Device Endpoints).
Οι επικοινωνίες μέσω της USB γίνονται ανάμεσα στον ξενιστή (host PC) και σε “τελικά σημεία” που βρίσκονται στα περιφερειακά.
Σύμφωνα με τις προδιαγραφές της USB ως τελικό (ή αλλιώς “καταληκτικό”) σημείο συσκευής αναφέρεται ένα μέρος της μνήμης ή ένα σύνολο καταχωρητών (buffer) μέσα στον μικροελεγκτή του περιφερειακού, το οποίο μπορεί να διευθυνσιοδοτηθεί με μοναδικό τρόπο, ώστε να γίνει ο αποδέκτης ή η πηγή δεδομένων σε μια ροή πληροφοριών ανάμεσα στον ξενιστή και στη συσκευή.
Τα δεδομένα που βρίσκονται αποθηκευμένα σε ένα τελικό σημείο περιφερειακού μπορεί να έχουν ληφθεί ή να αναμένουν την εκπομπή τους.
Επικοινωνιακός σωλήνας (pipe)
Για να επιτευχθεί η επικοινωνία ανάμεσα στον ξενιστή και σε ένα τελικό σημείο περιφερειακής συσκευής είναι απαραίτητο να δημιουργηθεί ένας επικοινωνιακός δίαυλος ή αλλιώς “σωλήνας”, που να συνδέει τον ξενιστή με το συγκεκριμένο καταληκτικό σημείο.
Πρόκειται για μια εικονική διασύνδεση και όχι για μια φυσική γραμμή επικοινωνίας.
Μπορεί να την φαντάζεται κανείς σαν επιλογή ρυθμίσεων που κάνει ο ελεγκτής του ξενιστή στο λογισμικό του, προκειμένου να εξυπηρετήσει τις ανάγκες επικοινωνίας του συγκεκριμένου καταληκτικού σημείου.
Για ένα άλλο τελικό σημείο του ίδιου περιφερειακού, θα γίνει άλλη επιλογή ρυθμίσεων με αποτέλεσμα να δημιουργηθεί διαφορετικός εικονικός σωλήνας επικοινωνίας.
Τύποι μετάδοσης δεδομένων (Data transfers)
Ανάλογα με το είδος της συσκευής που εξυπηρετεί ο δίαυλος USB, χρησιμοποιεί για τις ανάγκες της επικοινωνίας έναν από τους εξής δυνατούς τρόπους μετάδοσης δεδομένων: Μετάδοση Ελέγχου (Control transfer), Συμπαγής μετάδοση (Bulk transfer), Ισόχρονη μετάδοση (Isochronous transfer) και Μετάδοση διακοπών (Interrupt transfer).
Ο καθένας από τους τέσσερις παραπάνω τύπους μετάδοσης έχει τις δικές του προδιαγραφές για ρυθμό μετάδοσης, ποσότητα δεδομένων, ακρίβεια στο χρονισμό των δεδομένων και διόρθωση λαθών.
Οι τρεις φάσεις μιας διεξαγωγής
Εφαρμογή χειριστηρίου (HID)
Περιγραφείς (descriptors)
Για να μπορέσει να επικοινωνήσει ο ξενιστής με μια συσκευή πρέπει απαραίτητα να γνωρίζει ποιες λειτουργίες υποστηρίζει η συσκευή, πόσα και ποια τελικά σημεία διαθέτει για κάθε λειτουργική διαμόρφωση, τι ανάγκες σε εύρος ζώνης (bandwidth) έχει κάθε τελικό σημείο, κ.
ά.
Οι προδιαγραφές της USB προβλέπουν ότι κάθε συσκευή πρέπει να είναι σε θέση να στείλει πέντε δομές δεδομένων που περιέχουν τις πληροφορίες αυτές, όταν ερωτηθεί από τον ξενιστή, κατά τη διάρκεια της απαρίθμησης.
Οι δομημένες αυτές πληροφορίες λέγονται “περιγραφείς” (descriptors) και εμπεριέχονται στον κώδικα (firmware) που καταχωρείται με προγραμματισμό στη μνήμη EPROM της συσκευής.
Ιεραρχία περιγραφέων (descriptors)
